<!--
2023 CHUNG-HAO. All Rights Reserved. 版權所有
-->


<link rel="stylesheet" href="css/sign.css" />
<link rel="shortcut icon" href="img/convert.jpg" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<div class="container" id="container">
	<div class="form-container sign-up-container">
		<form action="/signup" method="POST">
			<h1>Create Account</h1>
			<div class="social-container">
				<a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
			</div>
			<span>or use your email for registration</span>
			<input type="text" name="name" placeholder="Name" />
        	<input type="email" name="email" placeholder="Email" />
        	<input type="password" name="password" placeholder="Password" />
			<select name="profession">
				<option value="使用者">使用者</option>
				<option value="聯盟者">聯盟者</option>
				<option value="管理者">管理者</option>
				<option value="廣告商">廣告商</option>
			  </select>
        	<button type="submit">Sign Up</button>
    	</form>
	</div>
	<div class="form-container sign-in-container">
		<form id="loginForm" action="/signin" method="POST">
			<h1>Sign in</h1>
			<div class="social-container">
				<a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
			</div>
			<span>or use your account</span>
			<input type="email" name="email" placeholder="Email" />
        	<input type="password" name="password" placeholder="Password" />
			<a href="#">Forgot your password?</a>
			<button type="submit">Sign In</button>
		</form>
	</div>
	<div class="overlay-container">
		<div class="overlay">
			<div class="overlay-panel overlay-left">
				<h1>Welcome Back!</h1>
				<p>To keep connected with us please login with your personal info</p>
				<button class="ghost" id="signIn">Sign In</button>
			</div>
			<div class="overlay-panel overlay-right">
				<h1>Hello, Friend!</h1>
				<p>Enter your personal details and start journey with us</p>
				<button class="ghost" id="signUp">Sign Up</button>
			</div>
		</div>
	</div>
</div>

<footer>
	<p>
		Created with <i class="fa fa-heart"></i> by
		<a target="_blank" href="https://github.com/CHUNG-HAO/Convert-System">CHUNG-HAO</a>
	</p>
</footer>

<!---------事件點擊監聽器--------->

<script>
const signUpButton = document.getElementById('signUp');
const signInButton = document.getElementById('signIn');
const container = document.getElementById('container');

signUpButton.addEventListener('click', () => {
	container.classList.add("right-panel-active");
});

signInButton.addEventListener('click', () => {
	container.classList.remove("right-panel-active");
});
</script>


<!---------Ajax 進行判斷錯誤--------->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$("#loginForm").submit(function(e){
  e.preventDefault();
  $.ajax({
    type: "POST",
    url: "/signin",
    data: $(this).serialize(),
    success: function(data)
    {
      if(data.redirect) {
        window.location.href = data.redirect;
      }
    },
    error: function(xhr, status, error)
    {
      var errorMessage = JSON.parse(xhr.responseText).error;
      alert(errorMessage);
    }
  });
});
</script>